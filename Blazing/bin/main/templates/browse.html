<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
	<meta charset="UTF-8" name="viewport" content="width=device-width, shrink-to-fit=no">
	<title>BLAZING - Team Elm</title>
	<!-- jquery -->
	<script type="application/javascript" th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js}"></script>
	<!-- slick.js -->
	<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css}">
	<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js}"></script>
	<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css}">
	<!-- popper.js -->
	<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js}"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}">
	<script type="application/javascript" th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}"></script>
	<!-- source sans pro -->
	<link th:href='@{https://fonts.googleapis.com/css?family=Source+Sans+Pro}' rel='stylesheet' type='text/css'>
	<!-- font awesome -->
	<link th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
</head>

<link rel="stylesheet" th:href="@{/css/styles.css}">

<body class="bg-dark">
	<header th:insert="/header.html :: header"></header>
	<div class="container">
		<div class="row">
			<div class="col-12 col-md-auto sidebar sticky-top" id="left-sidebar">
				<section>
					<ul class="nav nav-pills flex-column" id="browse-tabs" role="tablist">
						<li>
							<h5 class="section-header">IN THEATERS</h5>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="blazing-movies-tab" href="#" role="tab">Blazing Movie Picks</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="opening-movies-tab" href="#" role="tab">Opening This Week</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="top-bo-tab" href="#" role="tab">Top Box Office</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="coming-soon-tab" href="#" role="tab">Coming Soon</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="all-movies-tab" href="#" role="tab">All Movies</a>
						</li>
						<li class="pt-2">
							<h5 class="section-header">TV</h5>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="blazing-tv-tab" href="#" role="tab">Blazing TV Picks</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="new-tv-tab" href="#" role="tab">New TV Tonight</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="popular-tv-tab" href="#" role="tab">Most Popular TV</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="pill" id="all-tv-tab" href="#" role="tab">All TV</a>
						</li>
					</ul>
				</section>
			</div>

			<div class="col-12 col-md-auto main-content" id="browse-content">
				<section>
					<h5 class="section-header" id="browse-title"></h5>
					<section class="border" id="browse-filters">
						<div class="d-flex flex-row">
							<!-- temporary filters -->
							<div class="slider-container border-left border-right px-2">
								Critics Scores: From
								<input type="number" min="0" max="100" value="0"> To
								<input type="number" min="0" max="100" value="100">
							</div>
							<div class="slider-container border-left border-right px-2">
								Audience Scores: From
								<input type="number" min="0" max="100" value="0"> To
								<input type="number" min="0" max="100" value="100">
							</div>
							<div class="border-left border-right px-2">
								Genre:
							</div>
						</div>
					</section>
					<div class="results-list" id="browse-list">
						<a class="details-link btn text-center" href="/movie-details.html" th:each="movie : ${browseAllMovies}">
							<img class="image" src="/images/peter-rabbit.jpg">
							<div class="name text-truncate" th:text="${movie.title}">Peter Rabbit</div>
							<div>
								<span class="icon tiny burning"></span>
								<span th:text="${movie.blazingScore}">70</span>%
							</div>
						</a>
					</div>
					<div class="w-100 d-flex justify-content-center">
						<ul class="pagination">
						</ul>
					</div>
				</section>
			</div>
		</div>

	</div>
	<footer></footer>
</body>

<script type="application/javascript" th:src="@{/js/properties.js}"></script>
<script type="application/javascript" th:src="@{/js/main.js}"></script>
<script type="application/javascript" th:src="@{/js/media-per-page.js}"></script>
<script type="application/javascript" th:src="@{/js/get-query-string.js}"></script>
<script>
	function getBrowseType(){
		var browseData = getDataFromQueryString();
		var browseTab = "#"+browseData["type"]+"-tab";
		$(browseTab).addClass('show active');
		var browseTitle;
		switch(browseData["type"]){
			case "blazing-movies":
				browseTitle = "BLAZING MOVIE PICKS";
				break;
			case "opening-movies":
				browseTitle = "OPENING THIS WEEK";
				break;
			case "top-bo":
				browseTitle = "TOP BOX OFFICE";
				break;
			case "coming-soon":
				browseTitle = "COMING SOON TO THEATERS";
				break;
			case "all-movies":
				browseTitle = "BROWSE ALL MOVIES";
				break;
			case "blazing-tv":
				browseTitle = "BLAZING TV PICKS";
				break;
			case "new-tv":
				browseTitle = "NEW TV TONIGHT";
				break;
			case "popular-tv":
				browseTitle = "MOST POPULAR TV";
				break;
			case "all-tv":
				browseTitle = "BROWSE ALL TV";
				break;
			default:
				break;
		}
 		$("#browse-title").html(browseTitle);
	}

	$(function(){
		getBrowseType();

		$("#browse-tabs > .nav-item > .nav-link").on('click',function(){
			$("#browse-tabs > .nav-item > .nav-link").removeClass("active");
			var browseType = $(this).attr("id");
			var stateObj = {};
			history.pushState(stateObj,"","/browse?type="+browseType.substring(0,browseType.length-4));
			getBrowseType();
		});
	});
</script>

</html>