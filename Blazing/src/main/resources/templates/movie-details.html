<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
<meta charset="UTF-8" name="viewport" content="width=device-width, shrink-to-fit=no">
<title>BLAZING - Team Elm</title>
<!-- jquery -->
<script type="application/javascript" th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js}"></script>
<!-- slick.js -->
<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css}">
<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js}"></script>
<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css}">
<!-- popper.js -->
<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js}"></script>
<!-- bootstrap -->
<link rel="stylesheet" type="text/css" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}">
<script type="application/javascript" th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}"></script>
<!-- source sans pro -->
<link th:href='@{https://fonts.googleapis.com/css?family=Source+Sans+Pro}' rel='stylesheet' type='text/css'>
<!-- font awesome -->
<link th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
</head>

<link rel="stylesheet" th:href="@{/css/styles.css}">

<body class="bg-dark">
	<header th:insert="/fragments/header.html :: header"></header>
	<div class="container">
		<div class="row">
			<div class="col">
				<div>
					<video id="vid-thumb1" preload="metadata" data-toggle="modal" data-target="#vid-modal1">
						<source src="/videos/black-panther-trailer-1.mp4#t=10" type="video/mp4">
					</video>
					<div class="modal fade" id="vid-modal1" tabindex="-1" role="dialog" aria-labelledby="videoTitle" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" style="max-width: 90%!important;" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<video id="video1" controls="controls">
										<source src="/videos/black-panther-trailer-1.mp4" type="video/mp4">
									</video>
								</div>
							</div>
						</div>
					</div>
					<script th:inline="javascript">
					/*<![CDATA[*/
					$(function(){
						$("#vid-thumb1").css("width","100%");
						$("#vid-thumb1").css("height","auto");
						$("#video1").css("width","100%");
						$("#video1").css("height","auto");
		 				$("#vid-modal1").on("hidden.bs.modal",function(){
							$("#video1").get(0).pause();
							$("#video1").get(0).currentTime = 0;
						});
					});
					/*]]>*/
					</script>
				</div>
				<section class="container-fluid">
					<h3 class="section-header" th:text="${movie.title}">TITLE</h3>
					<div class="row flex-row-reverse">
						<section class="col-md-auto mx-auto text-center sidebar">
							<img src="/images/black-panther.jpg">
							<table class="table text-left">
								<tr class="align-top">
									<th>RATING:</th>
									<td>PG-13 (for prolonged sequences of action violence, and
										a brief rude gesture)</td>
								</tr>
								<tr class="align-top">
									<th>GENRE:</th>
									<td>Action &amp; Adventure, Drama, Science Fiction &amp;
										Fantasy</td>
								</tr>
								<tr class="align-top">
									<th>DIRECTED BY:</th>
									<td>Ryan Coogler</td>
								</tr>
								<tr class="align-top">
									<th>WRITTEN BY:</th>
									<td>Joe Robert Cole, Ryan Coogler</td>
								</tr>
								<tr class="align-top">
									<th>IN THEATERS:</th>
									<td>Feb 16, 2018 Wide</td>
								</tr>
								<tr class="align-top">
									<th>BOX OFFICE:</th>
									<td>$501,105,037</td>
								</tr>
								<tr class="align-top">
									<th>RUNTIME:</th>
									<td>135 minutes</td>
								</tr>
								<tr class="align-top">
									<th>STUDIO:</th>
									<td>Marvel Studios</td>
								</tr>
							</table>
						</section>
						<div class="col">
							<div class="row">
								<section class="col">
									<h5 class="section-header">BLAZING METER</h5>
									<div class="row d-flex flex-row align-items-center">
										<div class="col d-flex justify-content-center">
											<div>
												<span class="icon med burning"></span> <span
													style="font-size: 64px;"><span
													th:text="${movie.blazingScore}">70</span>%</span>
											</div>
										</div>
										<div class="col">
											<div>
												Average Rating: <span>7.8/10</span>
											</div>
											<div>
												Reviews Counted: <span>1000</span>
											</div>
											<div>
												Blazing: <span>700</span>
											</div>
											<div>
												Ashes: <span>300</span>
											</div>
										</div>
									</div>
								</section>
							</div>
							<div class="row">
								<section class="col">
									<h5 class="section-header">AUDIENCE SCORE</h5>
									<div class="row d-flex flex-row align-items-center">
										<div class="col d-flex justify-content-center">
											<div>
												<span class="icon med burning"></span> <span
													style="font-size: 64px;"><span
													th:text="${movie.audienceScore}">70</span>%</span>
											</div>
										</div>
										<div class="col">
											<div>
												Average Rating: <span>3.5/5</span>
											</div>
											<div>
												User Rating: <span>93,042</span>
											</div>
										</div>
									</div>
								</section>
							</div>
							<div class="row">
								<section class="col">
									<h5 class="section-header">MOVIE INFO</h5>
									<div id="description" th:text="${movie.description}">description</div>
								</section>
							</div>
							<div class="row">
								<section class="col">
									<h5 class="section-header">CAST</h5>
									<div class="celebrity-list row no-gutters"
										th:each="character : ${movie.cast}">
										<div class="celebrity-link col-6 col-md-4 pb-1">
											<a class="d-flex" href="/celebrity-details.html"> <img
												src="/images/thumbnail.png"
												th:src="${character.actor.portrait}"
												style="max-height: 50px; width: auto;">
												<div class="celebrity-link-body">
													<div class="font-weight-bold" th:text="${character.actor.name}">Celeb McCelebFace</div>
													<div>
														as <span th:text="${character.name}">Character</span>
													</div>
												</div>
											</a>
										</div>
									</div>
									<div class="text-right">
										<a href="#">View All...</a>
									</div>
								</section>
							</div>
						</div>
					</div>
					<div class="row">
						<section class="col">
							<h5 class="section-header">VIDEOS AND PHOTOS</h5>
							<ul class="nav nav-tabs flex-nowrap text-center" id="tab"
								role="tablist">
								<li class="nav-item"><a class="nav-item nav-link active"
									id="show-videos" data-toggle="tab" href="#videos" role="tab"
									aria-controls="videos" aria-selected="true">Videos</a></li>
								<li class="nav-item"><a class="nav-item nav-link"
									id="show-photos" data-toggle="tab" href="#photos" role="tab"
									aria-controls="photos" aria-selected="false">Photos</a></li>
							</ul>
							<div class="tab-content">
								<div class="tab-pane show fade active" id="videos"
									role="tabpanel" aria-labelledby="videos">
									<div class="section-carousel">
										<div class="section-carousel-item">
											<img src="/images/v1.jpg">
										</div>
									</div>
									<div class="text-right">
										<a href="#">View All Videos...</a>
									</div>
								</div>
								<div class="tab-pane fade" id="photos" role="tabpanel"
									aria-labelledby="photos">
									<div class="section-carousel">
										<div class="section-carousel-item">
											<img src="/images/v1.jpg">
										</div>
									</div>
									<div class="text-right">
										<a href="#">View All Photos...</a>
									</div>
								</div>
							</div>
						</section>
					</div>
				</section>
				<section>
					<h5 class="section-header">REVIEWS</h5>
					<section class="border">
						<div th:unless="${session.currentUser}">
							<h5 class="text-center w-100">Log In to Add A Review</h5>
						</div>
						<div id="user-rating" th:if="${session.currentUser} and not ${currentReview}">
							<h5 class="section-header">ADD YOUR RATING</h5>
							<div class="row flex-nowrap align-items-stretch">
								<!-- user review block -->
								<div class="col-auto">
									<img src="/images/thumbnail.png" style="width: 90px; height: 90px;">
								</div>
								<div class="col d-flex flex-column justify-content-between">
									<div class="d-flex align-items-center">
										<select id="rating-number" class="form-control form-control-sm" style="width: 60px;">
											<option value="0" selected>Rate...</option>
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
											<option value="6">6</option>
											<option value="7">7</option>
											<option value="8">8</option>
											<option value="9">9</option>
											<option value="10">10</option>
										</select>
										<div class="btn-group" id="wts-ni">
											<label class="btn btn-sm btn-dark" id="want-to-see" style="width: 100px;" th:unless="${#sets.contains(session.currentUser.getWishlist(),movie)}"><span class="button-text"><i class="fa fa-plus"></i> Want To See</span></label>
											<label class="btn btn-sm btn-success active" id="want-to-see" style="width: 100px;" th:if="${#sets.contains(session.currentUser.getWishlist(),movie)}"><span class="button-text"><i class="fa fa-check"></i> Will See!</span></label>
											<label class="btn btn-sm btn-dark" id="not-interested" style="width: 100px;" th:unless="${#sets.contains(session.currentUser.getNotInterested(),movie)}"><span class="button-text"><i class="fa fa-minus"></i> Not Interested</span></label>
											<label class="btn btn-sm btn-danger active" id="not-interested" style="width: 100px;" th:if="${#sets.contains(session.currentUser.getNotInterested(),movie)}"><span class="button-text"><i class="fa fa-times"></i> Pass...</span></label>
										</div>
									</div>
									<div>
										<textarea class="form-control" placeholder="Add A Review (Optional)" style="resize: none;" id="rvw-desc"></textarea>
									</div>
								</div>
							</div>
							<div class="text-right">
								<span class="text-danger mr-2" id="submit-fail" style="display: none;">Please Enter A Rating</span>
								<button id="submit-rating" type="submit" class="btn btn-outline-dark">Submit</button>
							</div>
						</div>
						<div id="user-rating" th:if="${session.currentUser} and ${currentReview}">
							<h5 class="section-header">EDIT YOUR RATING</h5>
							<div class="row flex-nowrap align-items-stretch">
								<!-- user review block -->
								<div class="col-auto">
									<img src="/images/thumbnail.png" style="width: 90px; height: 90px;">
								</div>
								<div class="col d-flex flex-column justify-content-between">
									<div class="d-flex align-items-center">
										<select id="rating-number" class="form-control form-control-sm" style="width: 60px;">
											<option value="0" selected>Rate...</option>
											<option value="1" th:selected="${currentReview.score} == 1">1</option>
											<option value="2" th:selected="${currentReview.score} == 2">2</option>
											<option value="3" th:selected="${currentReview.score} == 3">3</option>
											<option value="4" th:selected="${currentReview.score} == 4">4</option>
											<option value="5" th:selected="${currentReview.score} == 5">5</option>
											<option value="6" th:selected="${currentReview.score} == 6">6</option>
											<option value="7" th:selected="${currentReview.score} == 7">7</option>
											<option value="8" th:selected="${currentReview.score} == 8">8</option>
											<option value="9" th:selected="${currentReview.score} == 9">9</option>
											<option value="10" th:selected="${currentReview.score} == 10">10</option>
										</select>
										<div class="btn-group" id="wts-ni">
											<label class="btn btn-sm btn-dark" id="want-to-see" style="width: 100px;" th:unless="${#sets.contains(session.currentUser.getWishlist(),movie)}"><span class="button-text"><i class="fa fa-plus"></i> Want To See</span></label>
											<label class="btn btn-sm btn-success active" id="want-to-see" style="width: 100px;" th:if="${#sets.contains(session.currentUser.getWishlist(),movie)}"><span class="button-text"><i class="fa fa-check"></i> Will See!</span></label>
											<label class="btn btn-sm btn-dark" id="not-interested" style="width: 100px;" th:unless="${#sets.contains(session.currentUser.getNotInterested(),movie)}"><span class="button-text"><i class="fa fa-minus"></i> Not Interested</span></label>
											<label class="btn btn-sm btn-danger active" id="not-interested" style="width: 100px;" th:if="${#sets.contains(session.currentUser.getNotInterested(),movie)}"><span class="button-text"><i class="fa fa-times"></i> Pass...</span></label>
										</div>
										<div class="ml-auto"><button id="del-rating" type="submit" class="btn btn-sm btn-danger"><i class="fa fa-times"></i></button></div>
									</div>
									<div>
										<textarea class="form-control" placeholder="Add A Review (Optional)" style="resize: none;" id="rvw-desc" th:text="${currentReview.body}"></textarea>
									</div>
								</div>
							</div>
							<div class="text-right">
								<span class="text-danger mr-2" id="submit-fail" style="display: none;">Please Enter A Rating</span>
								<button id="edit-rating" type="submit" class="btn btn-outline-dark">Edit</button>
							</div>
							<script th:inline="javascript">
							/*<![CDATA[*/
								function editReview(score,body,id){
									var reviewDetails = {};
									reviewDetails["reviewId"] = id;
									reviewDetails["newBody"] = body;
									reviewDetails["rating"] = score;
									var jsonString = JSON.stringify(reviewDetails);
									$.ajax({
										type : "POST",
										contentType : "application/json",
										url : location.href+"/editreview",
										data : jsonString,
										success : function(data) {
											console.log(data);
										},
										error : function(e) {
											console.log("ERROR: ", e);
										}
									});
								}
							
								function deleteReview(id){
									$.ajax({
										type : "POST",
										contentType : "application/json",
										url : location.href+"/removereview",
										data : ""+id,
										success : function(data) {
											console.log(data);
										},
										error : function(e) {
											console.log("ERROR: ", e);
										}
									});
								}
							
								$(function(){
									$("#edit-rating").on("click",function(e){
										e.preventDefault();
										var score = $("#rating-number").val();
										var rvwID = /*[[${currentReview.id}]]*/ 0;
										console.log(rvwID);
										if (score == "0"){
											$("#submit-fail").show();
										}else{
											editReview(score,$("#rvw-desc").val(), rvwID);
										}
									});
									$("#del-rating").on("click", function(e){
										e.preventDefault();
										deleteReview(rvwID);
									});
								});
							/*]]>*/
							</script>
						</div>
					</section>
					<ul class="nav nav-tabs flex-nowrap text-center" id="tab"
						role="tablist" style="background-color: white;">
						<li class="nav-item"><a class="nav-item nav-link active"
							id="show-critic-reviews" data-toggle="tab" href="#critic-reviews"
							role="tab" aria-controls="critic-reviews" aria-selected="true">Critic
								Reviews</a></li>
						<li class="nav-item"><a class="nav-item nav-link"
							id="show-audience-reviews" data-toggle="tab"
							href="#audience-reviews" role="tab"
							aria-controls="audience-reviews" aria-selected="false">Audience
								Reviews</a></li>
					</ul>
					<div class="tab-content">
						<div class="tab-pane fade show active" id="critic-reviews" role="tabpanel" aria-labelledby="critic-reviews">
							<section class="px-0 pb-0 mb-0">
								<div class="reviews">
									<div class="review critic">
										<div class="quote d-flex">
											<div class="icon med burning mr-4" style="min-width: 64px;"></div>
											<div>
												<i class="fa fa-quote-left" style="padding-right: 25px;"></i>
											</div>
											<div>critic review</div>
											<div>
												<i class="fa fa-quote-right" style="padding-left: 25px;"></i>
											</div>
										</div>
										<div class="results text-right">
											<span>January 1, 1970</span> - <span>Rating</span> - <a
												href="#">Full Review...</a>
										</div>
										<div class="reviewer text-right">
											- <a href="#">Name</a>, <a href="#">Publication</a>
										</div>
									</div>
								</div>
								<div class="text-right">
									<a href="/reviews.html">View All Critic Reviews...</a>
								</div>
							</section>
						</div>
						<div class="tab-pane fade" id="audience-reviews" role="tabpanel"
							aria-labelledby="audience-reviews">
							<section class="px-0 pb-0 mb-0" th:if="${movie.getReviews().size()}">
								<div class="reviews">
									<div class="review audience d-flex flex-row border-bottom" th:each="review : ${movie.reviews}">
										<div class="reviewer" style="width: 100px;">
											<a th:href="@{/viewprofile/{id}(id=${review.user.id})}" th:text="${review.user.firstName+' '+review.user.lastName}">Name</a>
										</div>
										<div class="quote">
											<span th:text="${review.score}">10</span>/10 - "<span th:text="${review.body}">body</span>"
										</div>
										<div class="date font-weight-bold ml-auto">
											<span th:text="${review.datetime.getMonthValue()}">Month</span>
											/
											<span th:text="${review.datetime.getDayOfMonth()}">Day</span>
											/
											<span th:text="${review.datetime.getYear()}">Year</span>
										</div>
										<div>
											<button type="button" class="btn p-1" data-toggle="modal" th:attr="data-target='#report-rvw'+${review.id}"><i class="fa fa-flag"></i></button>
										</div>
										<div class="modal fade" th:id="'report-rvw'+${review.id}" tabindex="-1" role="dialog" aria-hidden="true">
											<div class="modal-dialog modal-dialog-centered" role="document">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title">Report A Review...</h5>
														<button type="button" class="close" data-dismiss="modal" aria-label="Close">
															<span aria-hidden="true">&times;</span>
														</button>
													</div>
													<div class="modal-body">
														<form>
															<div class="form-group">
																<label th:for="'reported-rvw'+${review.id}">Reported Review</label>
																<textarea class="form-control" th:id="'reported-rvw'+${review.id}" rows="5" readonly th:text="${review.body}" style="resize: none;"></textarea>
															</div>
															<div class="form-group">
																<label th:for="'reason'+${review.id}">Reason For Report</label>
																<textarea class="form-control" th:id="'reason'+${review.id}" rows="5" style="resize: none;"></textarea>
															</div>
															<button class="btn btn-secondary" th:id="'rep-rvw-button'+${review.id}">Report</button>
														</form>
													</div>
													<script th:inline="javascript">
														/*<![CDATA[*/
															var rvwIDBtn = /*[['#rep-rvw-button'+${review.id}]]*/ "#";
															var rvwID = /*[[${review.id}]]*/ 0;
															var reportBodyID = /*[['#reason'+${review.id}]]*/ "#";
															
															function reportReview(e){
																e.preventDefault();
																data = {};
																data["id"] = rvwID;
																data["body"] = $(reportBodyID).val();
																var jsonString = JSON.stringify(data);
																$.ajax({
																	type : "POST",
																	contentType : "application/json",
																	url : location.href+"/report",
																	data : jsonString,
																	success : function(data) {
																		if (data == true){
																			location.reload();
																		}else{
																		}
																	},
																	error : function(e) {
																		console.log("ERROR: ", e);
																	}
																});
															}
															
															$(function(){
																$(rvwIDBtn).on("click",reportReview);
															});
														/*]]*/
													</script>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="text-right">
									<a href="/reviews.html">View All Audience Reviews...</a>
								</div>
							</section>
							<section class="px-0 pb-0 mb-0"
								th:unless="${movie.getReviews().size()}">
								<h5 class="text-center w-100">No Reviews!</h5>
							</section>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
	<nav class="navbar d-none">
		<button type="button" class="btn btn-light">Edit
			Page...</button>
		<button type="button" class="btn btn-danger">Delete
			Page</button>
	</nav>
	<footer th:insert="/fragments/footer.html :: footer"></footer>
</body>

<script type="application/javascript" th:src="@{/js/properties.js}"></script>
<script type="application/javascript" th:src="@{/js/main.js}"></script>
<script type="application/javascript" th:src="@{/js/review-system.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
	/* TODO: fix wts-ni css */
	function addWTS() {
		var niColor = $("#not-interested").css("background-color");
		$("#want-to-see").attr("disabled",true);
		$("#not-interested").attr("disabled",true);
		$("#want-to-see").css("background-color","#aaaaaa");
		$("#not-interested").css("background-color","#aaaaaa");
		$("#want-to-see").css("border-color","#aaaaaa");
		$("#not-interested").css("border-color","#aaaaaa");
		$.ajax({
			type : "POST",
			url : location.href + "/addwishlist",
			success : function(data) {
				$("#want-to-see").css('background-color', '#28a745');
				$("#not-interested").css('background-color', niColor);
				$("#want-to-see").css('border-color', '#28a745');
				$("#not-interested").css('border-color', niColor);
				$("#want-to-see").addClass("active");
				$("#want-to-see .button-text").replaceWith('<span class="button-text"><i class="fa fa-check"></i> Will See!</span>');
				console.log(data);
			},
			error : function(e) {
				console.log("ERROR: ", e);
			},
			complete : function(e) {
				$("#want-to-see").attr("disabled", false);
				$("#not-interested").attr("disabled", false);
			}
		});
	}

	function removeWTS() {
		var niColor = $("#not-interested").css("background-color");
		$("#want-to-see").attr("disabled",true);
		$("#not-interested").attr("disabled",true);
		$("#want-to-see").css("background-color","#aaaaaa");
		$("#not-interested").css("background-color","#aaaaaa");
		$("#want-to-see").css("border-color","#aaaaaa");
		$("#not-interested").css("border-color","#aaaaaa");
		$.ajax({
			type : "POST",
			url : location.href + "/removewishlist",
			success : function(data) {
 				$("#want-to-see").css('background-color', '#343a40');
 				$("#not-interested").css('background-color', niColor);
 				$("#want-to-see").css('border-color', '#343a40');
 				$("#not-interested").css('border-color', niColor);
				$("#want-to-see").removeClass("active");
				$("#want-to-see .button-text").replaceWith('<span class="button-text"><i class="fa fa-plus"></i> Want To See</span>');
				console.log(data);
			},
			error : function(e) {
				console.log("ERROR: ", e);
			},
			complete : function(e) {
				$("#want-to-see").attr("disabled", false);
				$("#not-interested").attr("disabled", false);
			}
		});
	}

	function addNI() {
		var wtsColor = $("#want-to-see").css("background-color");
		$("#want-to-see").attr("disabled",true);
		$("#not-interested").attr("disabled",true);
		$("#want-to-see").css("background-color","#aaaaaa");
		$("#not-interested").css("background-color","#aaaaaa");
		$("#want-to-see").css("border-color","#aaaaaa");
		$("#not-interested").css("border-color","#aaaaaa");
		$.ajax({
			type : "POST",
			url : location.href + "/addnotinterested",
			success : function(data) {
 				$("#not-interested").css('background-color', '#dc3545');
 				$("#want-to-see").css('background-color', wtsColor);
 				$("#not-interested").css('border-color', '#dc3545');
 				$("#want-to-see").css('border-color', wtsColor);
				$("#not-interested").addClass("active");
				$("#not-interested .button-text").replaceWith('<span class="button-text"><i class="fa fa-times"></i> Pass...</span>');
				console.log(data);
			},
			error : function(e) {
				console.log("ERROR: ", e);
			},
			complete : function(e) {
				$("#want-to-see").attr("disabled", false);
				$("#not-interested").attr("disabled", false);
			}
		});
	}

	function removeNI() {
		var wtsColor = $("#want-to-see").css("background-color");
		$("#want-to-see").attr("disabled",true);
		$("#not-interested").attr("disabled",true);
		$("#want-to-see").css("background-color","#aaaaaa");
		$("#not-interested").css("background-color","#aaaaaa");
		$("#want-to-see").css("border-color","#aaaaaa");
		$("#not-interested").css("border-color","#aaaaaa");
		$.ajax({
			type : "POST",
			url : location.href + "/removenotinterested",
			success : function(data) {
 				$("#not-interested").css('background-color', '#343a40');
 				$("#want-to-see").css('background-color', wtsColor);
 				$("#not-interested").css('border-color', '#343a40');
 				$("#want-to-see").css('border-color', wtsColor);
				$("#not-interested").removeClass("active");
				$("#not-interested .button-text").replaceWith('<span class="button-text"><i class="fa fa-minus"></i> Not Interested</span>');
				console.log(data);
			},
			error : function(e) {
				console.log("ERROR: ", e);
			},
			complete : function(e) {
				$("#want-to-see").attr("disabled", false);
				$("#not-interested").attr("disabled", false);
			}
		});
	}

	function toggleWTS(e) {
		e.preventDefault();
		if ($("#want-to-see").hasClass("active")) {
			removeWTS();
		} else {
			addWTS();
		}/* 
 		if ($("#not-interested").hasClass("active")) {
			removeNI();
		} */
	}

	function toggleNI(e) {
		e.preventDefault();
		if ($("#not-interested").hasClass("active")) {
			removeNI();
		} else {
			addNI();
		}/* 
 		if ($("#want-to-see").hasClass("active")) {
			removeWTS();
		} */
	}

	$(function() {
		$("#want-to-see").on("click", toggleWTS);
		$("#not-interested").on("click", toggleNI);
	});
	/*]]>*/
</script>

</html>

