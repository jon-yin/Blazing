<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
	<meta charset="UTF-8" name="viewport" content="width=device-width, shrink-to-fit=no">
	<title>BLAZING - Team Elm</title>
	<!-- jquery -->
	<script type="application/javascript" th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js}"></script>
	<!-- slick.js -->
	<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css}">
	<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js}"></script>
	<link rel="stylesheet" type="text/css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css}">
	<!-- popper.js -->
	<script type="application/javascript" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js}"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}">
	<script type="application/javascript" th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}"></script>
	<!-- source sans pro -->
	<link th:href='@{https://fonts.googleapis.com/css?family=Source+Sans+Pro}' rel='stylesheet' type='text/css'>
	<!-- font awesome -->
	<link th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
</head>

<link rel="stylesheet" href="/css/styles.css">

<body class="bg-dark">
	<header th:insert="/fragments/header.html :: header"></header>
	<div class="container" th:if="${foundUser}">
		<div class="row">
			<div class="col-12 col-md-auto sidebar" id="left-sidebar">
				<section> <!-- #sets.isEmpty(session.currentUser.following) -->
					<img class="image profile" src="/images/thumbnail.png">
					<div class="text-center mt-1" th:if="${session.currentUser} and ${foundUser.id != session.currentUser.id}">
						<button type="button" class="btn btn-secondary" id="follow-button">Follow</button>
						<button type="button" class="btn btn-secondary" id="unfollow-button">UnFollow</button>
						<script th:inline="javascript">
						/*<![CDATA[*/
							function follow(e){
								e.preventDefault();
								var firstName = /*[[${session.currentUser.firstName}]]*/ 'test';
								console.log(firstName);
							//	$.ajax({
							//		url: "/follow"
							//	});
							}
							function unfollow(e){
								e.preventDefault();
								var lastName = /*[[${session.currentUser.lastName}]]*/ 'test';
								console.log(lastName);
							//	$.ajax({
							//		url: "/unfollow"
							//	});
							}
							$(function(){
								$("#follow-button").on("click", follow);
								$("#unfollow-button").on("click", unfollow);
							});
						/*]]>*/
						</script>
					</div>
				</section>
				<section>
					<h5 class="section-header" th:text="${foundUser.firstName}+' '+${foundUser.lastName}">PROFILE</h5>
					<div>
						<span class="font-weight-bold">Total Views:</span>
						<span>0</span>
					</div>
					<div>
						<span class="font-weight-bold">Profile Views Last 7 Days:</span>
						<span>0</span>
					</div>
				</section>
				<section>
					<h5 class="section-header">ABOUT</h5>
					<div>
						<span>No user info supplied</span>
					</div>
					<div class="text-right"><a data-toggle="modal" data-target="#edit-user-info" href="#">Edit</a></div>
					<div class="modal fade" id="edit-user-info" tabindex="-1" role="dialog">
						<div class="modal-dialog modal-dialog-centered" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="edit-info-label">Edit User Info</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<form>
										<div class="w-100">
											<textarea class="form-control" id="edit-info" style="resize: none;"></textarea>
										</div>
										<button class="btn btn-secondary" id="update-info-button">Update</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div class="col-12 col-md-auto main-content">
				<ul class="nav nav-tabs flex-nowrap text-center" id="tab" role="tablist">
					<li class="nav-item">
						<a class="nav-item nav-link active" id="show-summary" data-toggle="tab" href="#summary" role="tab" aria-controls="summary" aria-selected="true">Summary</a>
					</li>
					<li class="nav-item">
						<a class="nav-item nav-link" id="show-movie-ratings" data-toggle="tab" href="#movie-ratings" role="tab" aria-controls="movie-ratings" aria-selected="false">Movie Ratings</a>
					</li>
					<li class="nav-item">
						<a class="nav-item nav-link" id="show-tv-ratings" data-toggle="tab" href="#tv-ratings" role="tab" aria-controls="tv-ratings" aria-selected="false">TV Ratings</a>
					</li>
					<li class="nav-item">
						<a class="nav-item nav-link" id="show-wts-ni" data-toggle="tab" href="#wts-ni" role="tab" aria-controls="wts-ni" aria-selected="false">WTS/NI</a>
					</li>
					<li class="nav-item">
						<a class="nav-item nav-link" id="show-following" data-toggle="tab" href="#following" role="tab" aria-controls="following" aria-selected="false">Following</a>
					</li>
				</ul>
				<div class="tab-content" id="show-main-content">
					<div class="tab-pane show fade active" id="summary" role="tabpanel" aria-labelledby="show-summary">
						<section>
							<h5 class="section-header">WANT-TO-SEE MOVIES</h5>
						</section>
						<section>
							<h5 class="section-header">WANT-TO-SEE TV</h5>
						</section>
						<section>
							<h5 class="section-header">RATING HISTORY</h5>
						</section>
					</div>
					<div class="tab-pane show fade" id="movie-ratings" role="tabpanel" aria-labelledby="show-movie-ratings">
					</div>
					<div class="tab-pane show fade" id="tv-ratings" role="tabpanel" aria-labelledby="show-tv-ratings">
					</div>
					<div class="tab-pane show fade" id="wts-ni" role="tabpanel" aria-labelledby="show-wts-ni">
					</div>
					<div class="tab-pane show fade" id="following" role="tabpanel" aria-labelledby="show-following">
					</div>
				</div>
			</div>
		</div>
		<nav class="navbar">
			<button type="button" class="btn btn-warning" data-toggle="modal" data-target="#add-movie">Add Movie...</button>
		</nav>
		
		<div class="modal fade" id="add-movie" tabindex="-1" role="dialog" aria-labelledby="#addMovie" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addMovie">Add a Movie</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="add-movie-title">Title</label>
								<input class="form-control" id="add-movie-title">
								<small class="text-danger" id="no-title-alert" style="display: none;">Please enter the title</small>
							</div>
							<div class="form-group">
								<label for="add-movie-genres">Genre</label>
								<input class="form-control" id="add-movie-genres">
								<small class="text-danger" id="no-genres-alert" style="display: none;">Please enter genres</small>
							</div>
							<div class="d-flex">
								<div class="form-group">
									<label for="add-releasedate">Release Date</label>
									<div class="d-flex">
										<input class="form-control" id="add-year" placeholder="Year">
										<input class="form-control" id="add-month" placeholder="Month">
										<input class="form-control" id="add-day" placeholder="Day">
									</div>
									<small class="text-danger" id="no-date-alert" style="display: none;">Please enter the release date</small>
								</div>
								<div class="form-group">
									<label for="add-boxoffice">Box Office</label>
									<input class="form-control" id="add-boxoffice">
									<small class="text-danger" id="no-bo-alert" style="display: none;">Please enter the box office</small>
								</div>
								<div class="form-group">
									<label for="add-runtime">Run Time</label>
									<input class="form-control" id="add-runtime">
									<small class="text-danger" id="no-runtime-alert" style="display: none;">Please enter the run time</small>
								</div>
							</div>
							<div class="d-flex justify-content-stretch">
								<div class="form-group">
									<label for="add-actor-id">Actor ID</label>
									<input class="form-control" id="add-actor-id">
									<small class="text-danger" id="no-actor-id-alert" style="display: none;">Please enter Actor ID</small>
								</div>
								<div class="form-group">
									<label for="add-actor-role">Role</label>
									<input class="form-control" id="add-actor-role">
									<small class="text-danger" id="no-role-alert" style="display: none;">Please enter Actor Role</small>
								</div>
								<button class="btn btn-secondary align-self-center h-50 ml-auto" id="add-actor-button">Add Actor</button>
							</div>
							<div class="form-group">
								<textarea id="added-cast-box" class="form-control" rows=3 style="resize: none;"></textarea>
							</div>
							<div class="form-group">
								<label for="add-movie-desc">Description</label>
								<textarea id="add-movie-desc" class="form-control" rows=3 style="resize: none;"></textarea>
								<small class="text-danger" id="no-desc-alert" style="display: none;">Please enter a description</small>
							</div>
							<button class="btn btn-secondary" id="add-movie-button">Add</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="h-100" th:unless="${foundUser}">
		<section>
			User not found
		</section>
	</div>
	<footer th:insert="/fragments/footer.html :: footer"></footer>
</body>

<script type="application/javascript" th:src="@{/js/properties.js}"></script>
<script type="application/javascript" th:src="@{/js/main.js}"></script>
<script type="application/javascript" th:src="@{/js/add-media.js}"></script>

</html>